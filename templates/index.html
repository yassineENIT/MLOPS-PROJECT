<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prédiction de réservation d'hôtel</title>
  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    body { margin: 0; background: #f6f7fb; color: #1f2937; }
    .container { max-width: 900px; margin: 40px auto; padding: 24px; background: #fff; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.06); }
    h1 { margin-top: 0; font-size: 1.6rem; }
    p.hint { margin-top: -8px; color: #6b7280; }
    form { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 16px; }
    .field { display: flex; flex-direction: column; gap: 8px; }
    label { font-weight: 600; }
    input, select { padding: 10px 12px; border: 1px solid #e5e7eb; border-radius: 10px; font-size: 0.95rem; outline: none; }
    input:focus, select:focus { border-color: #6366f1; box-shadow: 0 0 0 3px rgba(99,102,241,0.15); }
    .actions { grid-column: 1 / -1; display: flex; gap: 12px; margin-top: 8px; }
    button { padding: 12px 16px; border: 0; border-radius: 10px; font-weight: 600; cursor: pointer; }
    .btn-primary { background: #4f46e5; color: #fff; }
    .btn-reset { background: #e5e7eb; color: #111827; }
    .result { grid-column: 1 / -1; margin-top: 8px; padding: 14px 16px; background: #f0fdf4; border: 1px solid #bbf7d0; color: #166534; border-radius: 12px; font-weight: 600; }
    .footer-note { margin-top: 18px; color: #6b7280; font-size: 0.9rem; }
    @media (max-width: 700px) {
      form { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Prédire le statut d'une réservation d'hôtel</h1>
    <p class="hint">Renseigne les champs puis clique sur Calculer la prédiction.</p>

    {% if prediction_text %}
      <div class="result">{{ prediction_text }}</div>
    {% elif prediction %}
      <div class="result">Résultat: {{ prediction }}</div>
    {% endif %}

    <form method="POST" action="/">
      <!-- Colonne 1 -->
      <div class="field">
        <label for="lead_time">Lead time</label>
        <input id="lead_time" name="lead_time" type="number" min="0" step="1" placeholder="ex: 60" required />
      </div>

      <div class="field">
        <label for="no_of_special_requests">Nombre de demandes spéciales</label>
        <input id="no_of_special_requests" name="no_of_special_requests" type="number" min="0" step="1" placeholder="ex: 1" required />
      </div>

      <div class="field">
        <label for="avg_price_per_room">Prix moyen par chambre</label>
        <input id="avg_price_per_room" name="avg_price_per_room" type="number" min="0" step="0.01" placeholder="ex: 120.50" required />
      </div>

      <div class="field">
        <label for="total_of_special_requests">Total des demandes spéciales</label>
        <input id="total_of_special_requests" name="total_of_special_requests" type="number" min="0" step="1" placeholder="ex: 2" required />
      </div>

      <div class="field">
        <label for="arrival_month">Mois d'arrivée</label>
        <input id="arrival_month" name="arrival_month" type="number" min="1" max="12" step="1" placeholder="1 à 12" required />
      </div>

      <div class="field">
        <label for="arrival_date">Jour d'arrivée</label>
        <input id="arrival_date" name="arrival_date" type="number" min="1" max="31" step="1" placeholder="1 à 31" required />
      </div>

      <!-- Colonne 2 -->
      <div class="field">
        <label for="market_segment_type">Type de segment de marché</label>
        <input id="market_segment_type" name="market_segment_type" type="number" min="0" step="1" placeholder="ex: 2" required />
      </div>

      <div class="field">
        <label for="no_of_weekend_nights">Nuits week-end</label>
        <input id="no_of_weekend_nights" name="no_of_weekend_nights" type="number" min="0" step="1" placeholder="ex: 1" required />
      </div>

      <div class="field">
        <label for="no_of_week_nights">Nuits en semaine</label>
        <input id="no_of_week_nights" name="no_of_week_nights" type="number" min="0" step="1" placeholder="ex: 3" required />
      </div>

      <div class="field">
        <label for="type_of_meal_plan">Type de plan repas</label>
        <input id="type_of_meal_plan" name="type_of_meal_plan" type="number" min="0" step="1" placeholder="ex: 1" required />
      </div>

      <div class="field">
        <label for="room_type_reserved">Type de chambre réservé</label>
        <input id="room_type_reserved" name="room_type_reserved" type="number" min="0" step="1" placeholder="ex: 3" required />
      </div>

      <div class="actions">
        <button class="btn-primary" type="submit">Calculer la prédiction</button>
        <button class="btn-reset" type="reset">Réinitialiser</button>
      </div>
    </form>

    <p class="footer-note">
      Astuce: assure-toi que les codes numériques utilisés pour les variables catégorielles
      correspondent aux encodages du modèle.
    </p>
  </div>
</body>
</html>
